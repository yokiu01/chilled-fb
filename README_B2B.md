# 춤마루 B2B 운영 매뉴얼 (v14)

이 문서는 version 14 B2B 빌드를 위한 전용 가이드입니다. 단체/학원 계정, 구독 플랜, 템플릿 기반 커스텀 동작, 디지털 유산 아카이브 기능을 한 눈에 파악할 수 있도록 구성했습니다.

## 1. 실행 방법

```bash
pip install -r requirements_b2b.txt
streamlit run app_v14.py
```

## 2. 핵심 기능

| 영역 | 설명 |
| --- | --- |
| 단체 계정 시스템 | 단체 가입/로그인, 구독 플랜 정보, 단체 대시보드 |
| 구독 플랜 | Basic/Standard/Premium/Enterprise 플랜. 동작 수 · 강사 수 · 학생 수 제한 |
| 강사/학생 관리 | 담당 강사 등록 · 학생 배정 · 플랜 제한 자동 체크 |
| 커스텀 동작 세트 | 플랜별 허용된 동작 수만큼 기본/확장/창작 동작을 선택 |
| 동작 템플릿 라이브러리 | 표준 템플릿 열람, 템플릿 기반 커스텀 동작 제안 |
| 디지털 유산 아카이브 | 공연/연습 로그 기록 → 향후 AI 학습 및 전통 보존 데이터로 활용 |

## 3. 템플릿 기반 커스텀 동작 워크플로우

1. **템플릿 탐색**: `동작 템플릿 라이브러리`에서 한/풍류/창작 템플릿 메타데이터 확인
2. **커스텀 제안**: 템플릿을 기반으로 조정 포인트/문화 서사를 입력하여 제출
3. **승인 프로세스**: 단체 또는 관리자 검토 후 승인 → 정식 모듈로 편입
4. **아카이브 기록**: 승인된 커스텀 동작을 `디지털 유산 아카이브`에서 기록

> 템플릿 구조: `focus`, `key_points`, `module_reference`, `heritage_notes` 를 강제하여 데이터 정규화와 AI 모듈화를 동시에 달성합니다.

## 4. 데이터 저장 위치

| 파일 | 설명 |
| --- | --- |
| `data/organizations.json` | 단체 기본 정보 |
| `data/subscriptions.json` | 구독 플랜/상태 |
| `data/instructors.json` | 강사 정보 |
| `data/students.json` | 학생 정보 |
| `data/movement_templates.json` | 표준 동작 템플릿 |
| `data/custom_movements.json` | 템플릿 기반 커스텀 동작 |
| `data/movement_logs.json` | 공연/연습 기록 (디지털 유산) |

모든 파일은 JSON 포맷으로 저장되며, 버전 관리와 백업이 용이합니다.

## 5. A/B 테스트 전략

- **Version 13**: B2B 기본 기능 + 단체 커스텀 동작 세트
- **Version 14**: 템플릿 기반 제안 + 디지털 되새김(아카이브) + 승인 프로세스

내부 실험:
1. 두 버전을 서로 다른 단체 그룹에 제공
2. 커스텀 동작 제출률, 데이터 품질, 로그 누적량을 비교
3. v14 템플릿 기반 접근이 데이터 정규화/AI 분석에 미치는 효과 측정

## 6. 개발 팁

- **주석 정책**: app_v14.py 에 상세 주석을 추가하여 협업 시 의사결정을 추적 가능
- **데이터 스키마 변경 시** README_B2B.md 와 `DEFAULT_MOVEMENT_TEMPLATES`를 동시 업데이트
- **AI 분석 팀과 협업**: `module_reference`와 `heritage_notes` 값은 포즈 분석팀이 합의한 코드를 사용

## 7. 추가 작업 아이디어

- 관리자 승인 대시보드 (외부 CMS 또는 Streamlit Admin)
- 템플릿 버저닝 히스토리
- 동작 로그 익스포트 (CSV, Parquet)
- AI 분석 파이프라인과 직접 연동되는 API 레이어

---
문의 사항이나 제안은 B2B 채널(#b2b-heritage)에서 논의해주세요.




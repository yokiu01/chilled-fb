# 춤마루 (Choomaru) MVP

한국의 몸짓을 MZ세대 감성으로 재해석한 인터랙티브 웹 애플리케이션

> **최신 버전**: v11.0 (2025.11.02)  
> **권장 실행 파일**: `app_v11.py`  
> **안정 버전**: `app_v10.py` (부위별 세부 영상)

## 🎭 프로젝트 개요

춤마루는 전통 한국무용을 현대적으로 재해석하여 젊은 세대가 쉽게 접근할 수 있도록 만든 플랫폼입니다. 간단한 퀴즈를 통해 개인의 "춤 DNA"를 분석하고, 웹캠을 통해 전통 동작을 따라하며, 개인화된 밈을 생성할 수 있습니다.

## ✨ 주요 기능

### 🧬 춤 DNA 분석
- 10개의 MZ세대 친화적 질문
- 8가지 춤 DNA 타입 분류 (밈 장인, 무드 큐레이터, 갓생 플래너, 디테일 장인, 감성 필터, 인간 공명기, 파티 히어로, 흥 폭발러)
- 개인 맞춤형 결과 페이지
- 8개 DNA 타입별 전문가 시연 영상 (30초 이내)

### 💃 동작 따라하기
- **기본 동작 12개** (5초 이내 전문가 영상)
  - 좌우새(Left-Right Flow), 감기, 손목감기, 머리감기, 바람불기, 손바닥뒤집기
  - 홑디딤, 잔걸음, 굴신, 한다리들기, 호흡, 궁채
- **확장 동작 6개** (5초 이내 전문가 영상)
  - 제자리돌기, 이동하면서돌기, 깡충돌기, 두디딤, 치마잡기, 연풍대
- **창작 동작 8개** (5초 이내 전문가 영상)
  - Wave, 끌어올리기, 나선, 상승, 점프, 굴림, 수축, 나침반 돌기
- 웹캠 기반 실시간 동작 분석 (MediaPipe)
- 동작별 상세 설명 및 역사적 배경
- 실시간 피드백 및 진행률 표시

### 🎨 밈 템플릿 생성 (v7.0~v8.0)
- **정적 이미지 (PNG)** - 4가지 스타일 템플릿
  - 그라데이션 박스: 깔끔하고 가독성 좋은 디자인
  - 네온 스타일: 강렬한 형광색 + 글로우 효과
  - 듀얼 톤: 보라-핑크 그라데이션 감성
  - 미니멀: 세련되고 모던한 화이트 톤
- **움직이는 GIF (2-5초)** - 4가지 스타일 애니메이션
  - DNA 타입 비디오 기반 프레임 추출
  - 스타일별 이미지 필터 및 텍스트 오버레이
  - 지속시간 조절 가능 (2-5초)
- DNA 타입별 맞춤 밈 카드
- 다운로드 기능 (PNG/GIF)

### 📹 부위별 세부 영상 (v10.0 신규)
- 메인 동작 영상 + 부위별 세부 동작 영상
- 자동 레이아웃 변경
  - 3개 이하: 하단 일렬 배치
  - 4-5개: 2줄 배치
  - 6개 이상: 탭 형식
- 기본/확장/창작 동작 모두 지원

### 🎭 DNA 갤러리 & 전통무용 아카이브 (v11.0 신규)
- **DNA 갤러리**
  - 8가지 DNA 타입 전체 보기
  - 사이드바에서 언제든 접근 가능
  - 결과 페이지에서 다른 타입 탐색 가능
- **전통무용 아카이브**
  - 5000년 역사 스토리와 영상 연결
  - 향후 테마별 콘텐츠 확장 예정

## 🚀 기술 스택

- **Frontend**: Streamlit
- **AI/ML**: MediaPipe (포즈 감지)
- **Image Processing**: OpenCV, PIL
- **Language**: Python 3.11+

## 📋 버전별 업데이트 내역

### 🎭 v11.0 (2025.11.02) - DNA 갤러리 & 전통무용 아카이브
**파일**: `app_v11.py`

#### 신규 기능
- **DNA 갤러리 페이지**
  - 8가지 DNA 타입 전체 보기 (2×4 그리드)
  - 각 타입별 영상, 설명, 특징 표시
  - 사이드바 메뉴로 언제든 접근 가능
- **결과 페이지 개선**
  - "다른 DNA 타입도 궁금하신가요?" expander 추가
  - 나머지 7개 타입 컴팩트 표시
  - 전체 갤러리로 이동 버튼
- **스토리 페이지 확장**
  - 전통무용 아카이브 섹션 구조 추가
  - 향후 테마별 영상 콘텐츠 탑재 예정
- **버그 수정**
  - fun-explorer.mp4 경로 수정 (exploder → explorer)

#### 기술적 개선
- `show_dna_gallery_page()` 함수 추가
- 다국어 지원 확장 (갤러리, 아카이브 관련)
- 라우팅에 `dna_gallery` 경로 추가

---

### 📹 v10.0 (2025.10.30) - 부위별 세부 영상 기능
**파일**: `app_v10.py`

#### 신규 기능
- **부위별 세부 영상**
  - 메인 영상 + 세부 동작 영상 표시
  - 영상 개수에 따른 자동 레이아웃
    - 3개 이하: 하단 일렬 배치
    - 4-5개: 2줄 배치
    - 6개 이상: 탭 방식
  - 기본/확장/창작 동작 모두 지원

#### 기술적 개선
- `render_detail_videos()` 함수 구현
- 동작 데이터에 `detail_videos` 필드 추가
- 반응형 레이아웃 자동 전환

---

### 🎯 v8.0 (2025.10.28) - GIF 밈 생성 기능 추가
**파일**: `app_v8.py`

#### 신규 기능
- **움직이는 GIF 밈 생성**
  - DNA 타입 비디오에서 프레임 추출 (30%-70% 구간)
  - 4가지 스타일 적용: 그라데이션 박스, 네온, 듀얼 톤, 미니멀
  - GIF 지속시간 조절 (2-5초, 슬라이더)
  - 프레임 레이트: 10fps
- **스타일별 차별화 강화**
  - 네온: 어두운 배경 + 강렬한 글로우 효과
  - 듀얼 톤: 보라-핑크 그라데이션 컬러 필터
  - 미니멀: 높은 블러 + 화이트 오버레이
  - 그라데이션 박스: 상하단 텍스트 박스 배치
- **다운로드 기능**
  - GIF 파일 다운로드 버튼
  - 파일명: `{DNA타입}_meme.gif`

#### 기술적 개선
- `create_meme_gif()` 함수: 비디오 → GIF 변환 파이프라인
- PIL Image 기반 프레임별 스타일 처리
- BytesIO를 활용한 메모리 효율적 GIF 생성

---

### 🎨 v7.0 (2025.10.28) - 밈 템플릿 1단계 구현
**파일**: `app_v7.py`

#### 신규 기능
- **정적 이미지 밈 카드 생성**
  - DNA 타입 비디오에서 프레임 캡처
  - 4가지 스타일 템플릿 제공
  - 스타일 선택 UI (`st.selectbox`)
- **스타일 A: 그라데이션 박스**
  - 상단/하단 반투명 그라데이션 박스
  - 텍스트 가독성 최적화
  - 제목 상단, 해시태그 하단 배치
- **스타일 B: 네온 스타일**
  - 어두운 배경 + 네온 핑크/시안 텍스트
  - 다층 글로우 효과 (6px, 4px, 2px)
  - 검은 외곽선으로 가독성 강화
- **스타일 C: 듀얼 톤**
  - 보라-핑크 그라데이션 컬러 필터
  - 화이트 텍스트 + 검은 외곽선
  - 감성적이고 트렌디한 디자인
- **스타일 D: 미니멀**
  - 밝고 블러된 배경
  - 반투명 화이트 오버레이
  - 다크 그레이 텍스트 + 소프트 섀도우
- **다운로드 기능**
  - PNG 파일 다운로드 버튼
  - 1080x1080 해상도

#### 기술적 구현
- `capture_video_frame()`: OpenCV 기반 프레임 추출
- `create_meme_card_X()`: 스타일별 이미지 처리 함수
- PIL 이미지 필터: Brightness, GaussianBlur
- 한글 폰트 지원: `malgun.ttf`
- 텍스트 외곽선 렌더링 (8방향 중첩)

---

### 🎥 v6.0 (2025.10.28) - 확장/창작 동작 고도화
**파일**: `app_v6.py`

#### 신규 기능
- **확장 동작 웹캠 연동**
  - 6개 확장 동작에 실시간 웹캠 분석 추가
  - MediaPipe 포즈 감지 적용
  - 진행률 표시 및 실시간 피드백
- **창작 동작 웹캠 연동**
  - 8개 창작 동작에 웹캠 기능 추가
  - 기본 동작과 동일한 UX/UI
- **동작별 상세 설명 추가**
  - `story_card`: 동작의 느낌과 의미 설명
  - `historical_note`: 역사적 배경 및 문화적 의미
  - 전문가 시연 영상과 함께 표시
- **UI/UX 개선**
  - "동작 연습" 버튼 → "동작 배우기" 페이지로 이동
  - 동작 선택 페이지로 자연스러운 플로우

#### 기술적 개선
- `show_expanded_action_page()`: 확장 동작 전용 페이지 함수
- `show_creative_action_page()`: 창작 동작 전용 페이지 함수
- Session State: `current_expanded_action`, `current_creative_action` 추가

---

### 🎬 v5.0 (2025.10.28) - 영상 경로 통합 및 명칭 개선
**파일**: `app_v5.py`

#### 주요 변경사항
- **확장 동작 영상 통합 (6개)**
  - 제자리돌기 (`spin-in-place.mp4`)
  - 이동하면서돌기 (`moving-spin.mp4`)
  - 깡충돌기 (`jumping-spin.mp4`)
  - 두디딤 (`double-steps.mp4`)
  - 치마잡기 (`skirt-snatch.mp4`)
  - 연풍대 (`Yeon-pung-dae.mp4`)
- **창작 동작 영상 통합 (8개)**
  - Wave (`wave.mp4`)
  - 끌어올리기 (`pull-up.mp4`)
  - 나선 (`in-pase.mp4`)
  - 상승 (`up-turn.mp4`)
  - 점프 (`jump.mp4`)
  - 굴림 (`rolling.mp4`)
  - 수축 (`contraction.mp4`)
  - 나침반 돌기 (`compass-turn.mp4`)
- **영문 명칭 수정**
  - "좌우새" 영문명: `Left-Right Bird` → `Left-Right Flow`
  - 비디오 파일명: `left-right-bird.mp4` → `left-right-flow.mp4`

#### 파일 구조 업데이트
```
videos/
├── dna-types/ (8개 DNA 타입)
├── basic-actions/ (12개 기본 동작)
├── expanded-actions/ (6개 확장 동작) ← 신규
└── creative-actions/ (8개 창작 동작) ← 신규
```

---

### 📦 v4.0 (기준 버전)
**파일**: `app_v4.py`

#### 기본 기능
- 춤 DNA 진단 (8가지 타입)
- 기본 동작 12개 (웹캠 + 실시간 분석)
- DNA 타입별 전문가 시연 영상
- MediaPipe 포즈 감지
- 밈 카드 기본 UI

## 📦 설치 및 실행

### 1. 프로젝트 클론
```bash
git clone https://github.com/Hellenak68/Choomaru.git
cd choomaru_mvp
```

### 2. 의존성 설치
```bash
pip install -r requirements.txt
```

### 3. 애플리케이션 실행
```bash
# 최신 버전 실행 (권장)
streamlit run app_v8.py

# 또는 특정 버전 실행
streamlit run app_v7.py  # 정적 밈 카드만
streamlit run app_v6.py  # 웹캠 동작 분석만
streamlit run app_v5.py  # 기본 기능
```

### 4. 브라우저 접속
```
http://localhost:8501
```

## 📋 필요 라이브러리

```
streamlit
mediapipe
opencv-python
pillow
numpy
```

## 🎯 사용법

1. **랜딩 페이지**: "내 춤 DNA 찾기" 버튼 클릭
2. **퀴즈**: 10개 질문에 직관적으로 답변
3. **결과 확인**: 개인의 춤 DNA 타입 확인 (8가지 중 1개)
4. **동작 배우기**: 
   - 기본 동작 12개
   - 확장 동작 6개
   - 창작 동작 8개
   - 웹캠으로 실시간 동작 분석 및 피드백
5. **밈 생성**: 
   - 정적 이미지 (PNG) 또는 움직이는 GIF 선택
   - 4가지 스타일 중 선택
   - 다운로드 및 SNS 공유

## 🔮 향후 계획

### ✅ 완료된 기능 (v8.0 기준)
- ✅ 웹캠 실시간 포즈 감지 (MediaPipe)
- ✅ 26개 동작 완전 구현 (기본 12 + 확장 6 + 창작 8)
- ✅ 밈 템플릿 생성 (PNG + GIF, 4가지 스타일)
- ✅ 다운로드 및 공유 기능

### 🚀 차기 버전 고려사항

#### 단기 (고도화)
- **MP4 밈 생성**: 고품질 비디오 밈 (H.264 코덱)
- **사용자 웹캠 이미지 저장**: 성공한 동작 순간 캡처
- **SNS 공유 버튼**: 인스타그램, 카카오톡 직접 공유
- **AI 피드백**: 동작 정확도 및 개선점 제안

#### 중기 (확장)
- **사용자 갤러리**: 내 동작 히스토리 및 성과 추적
- **커뮤니티 기능**: 사용자 간 밈 공유 및 좋아요
- **음악 동기화**: 배경음악과 동작 매칭
- **난이도별 동작**: 초급/중급/고급 단계 추가

#### 장기 (플랫폼화)
- **콜라보 밈**: 사용자 + 전문가 영상 합성
- **AI 안무 생성**: 사용자 취향 기반 맞춤 안무
- **라이브 클래스**: 실시간 강사 연결
- **게임화**: 포인트, 배지, 리더보드

### 📝 기술적 고려사항

#### 영상 호스팅
- **현재**: 로컬 파일 (30초 이내, H.264)
- **향후**: CDN 또는 YouTube/Vimeo 임베드 (1분+ 영상)

#### 최적화
- 청크 로딩으로 로딩 속도 개선
- 썸네일 프리뷰 + 클릭 시 전체 영상
- 모바일 최적화 (반응형 디자인)

## 👥 개발자

- **기획 및 개발**: Hellenak68
- **AI 코딩 멘토**: Claude AI

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 🎉 특별 감사

- MediaPipe 팀의 오픈소스 포즈 감지 라이브러리
- Streamlit 커뮤니티의 웹 앱 프레임워크
- 한국 전통 무용의 아름다움을 현대에 전하는 모든 예술가들

---

**춤마루와 함께 한국의 몸짓을 현대감각으로 체험해보세요! 🎭✨**